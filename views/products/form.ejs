<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= title %></title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <%- include('../partials/header') %>
  
  <main class="container">
    <div class="page-header">
      <h1><%= product ? 'Edit Product' : 'Create New Product' %></h1>
      <a href="/products" class="btn btn-secondary">Back to List</a>
    </div>

    <div class="form-container">
      <form action="<%= action %>" method="POST">
        <div class="form-group">
          <label for="name">Product Name *</label>
          <input 
            type="text" 
            id="name" 
            name="name" 
            value="<%= product ? product.name : '' %>" 
            required
          >
        </div>

        <div class="form-group">
          <label for="description">Description *</label>
          <textarea 
            id="description" 
            name="description" 
            rows="4" 
            required
          ><%= product ? product.description : '' %></textarea>
        </div>

        <div class="form-group">
          <label for="price">Price ($) *</label>
          <input 
            type="number" 
            id="price" 
            name="price" 
            step="0.01" 
            min="0"
            value="<%= product ? product.price : '' %>" 
            required
          >
        </div>

        <div class="form-group">
          <label for="category">Category *</label>
          <select id="category" name="category" required>
            <option value="">Select a category</option>
            <option value="Electronics" <%= product && product.category === 'Electronics' ? 'selected' : '' %>>Electronics</option>
            <option value="Furniture" <%= product && product.category === 'Furniture' ? 'selected' : '' %>>Furniture</option>
            <option value="Clothing" <%= product && product.category === 'Clothing' ? 'selected' : '' %>>Clothing</option>
            <option value="Books" <%= product && product.category === 'Books' ? 'selected' : '' %>>Books</option>
            <option value="Other" <%= product && product.category === 'Other' ? 'selected' : '' %>>Other</option>
          </select>
        </div>

        <div class="form-group">
          <label class="checkbox-label">
            <input 
              type="checkbox" 
              name="inStock" 
              value="true"
              <%= product && product.inStock ? 'checked' : '' %>
            >
            In Stock
          </label>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary">
            <%= product ? 'Update Product' : 'Create Product' %>
          </button>
          <a href="/products" class="btn btn-secondary">Cancel</a>
        </div>
      </form>
    </div>
  </main>
  
  <%- include('../partials/footer') %>
</body>
</html>
